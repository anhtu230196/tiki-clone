{"ast":null,"code":"import axiosInstance from \"../helpers/axios\";\nimport { categoryConstants, intialDataConstants, productConstants } from \"./constants\";\n\nfunction createCategories(categories, parentId = null) {\n  const categoryList = [];\n  let category;\n\n  if (parentId == null) {\n    category = categories.filter(cat => cat.parentId == undefined);\n  } else {\n    category = categories.filter(cat => cat.parentId == parentId);\n  }\n\n  for (let cate of category) {\n    categoryList.push({\n      _id: cate._id,\n      name: cate.name,\n      slug: cate.slug,\n      parentId: cate.parentId,\n      children: createCategories(categories, cate._id)\n    });\n  }\n\n  return categoryList;\n}\n\nexport const getInitialDate = () => {\n  return async dispatch => {\n    const res = await axiosInstance.get(\"/initialData\");\n    console.log(res);\n\n    if (res.status === 200) {\n      const {\n        categories,\n        products\n      } = res.data;\n      dispatch({\n        type: categoryConstants.GET_ALL_CATEGORIES_SUCCESS,\n        payload: {\n          categories\n        }\n      });\n      dispatch({\n        type: productConstants.GET_ALL_PRODUCTS_SUCCESS,\n        payload: {\n          products\n        }\n      });\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/Admin/Documents/tiki/admin-app/src/actions/initialData.action.js"],"names":["axiosInstance","categoryConstants","intialDataConstants","productConstants","createCategories","categories","parentId","categoryList","category","filter","cat","undefined","cate","push","_id","name","slug","children","getInitialDate","dispatch","res","get","console","log","status","products","data","type","GET_ALL_CATEGORIES_SUCCESS","payload","GET_ALL_PRODUCTS_SUCCESS"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,kBAA1B;AACA,SAASC,iBAAT,EAA4BC,mBAA5B,EAAiDC,gBAAjD,QAAyE,aAAzE;;AAEA,SAASC,gBAAT,CAA0BC,UAA1B,EAAsCC,QAAQ,GAAG,IAAjD,EAAuD;AACnD,QAAMC,YAAY,GAAG,EAArB;AACA,MAAIC,QAAJ;;AACA,MAAIF,QAAQ,IAAI,IAAhB,EAAsB;AAClBE,IAAAA,QAAQ,GAAGH,UAAU,CAACI,MAAX,CAAkBC,GAAG,IAAIA,GAAG,CAACJ,QAAJ,IAAgBK,SAAzC,CAAX;AACH,GAFD,MAEO;AACHH,IAAAA,QAAQ,GAAGH,UAAU,CAACI,MAAX,CAAkBC,GAAG,IAAIA,GAAG,CAACJ,QAAJ,IAAgBA,QAAzC,CAAX;AACH;;AACD,OAAK,IAAIM,IAAT,IAAiBJ,QAAjB,EAA2B;AACvBD,IAAAA,YAAY,CAACM,IAAb,CAAkB;AACdC,MAAAA,GAAG,EAAEF,IAAI,CAACE,GADI;AAEdC,MAAAA,IAAI,EAAEH,IAAI,CAACG,IAFG;AAGdC,MAAAA,IAAI,EAAEJ,IAAI,CAACI,IAHG;AAIdV,MAAAA,QAAQ,EAAEM,IAAI,CAACN,QAJD;AAKdW,MAAAA,QAAQ,EAAEb,gBAAgB,CAACC,UAAD,EAAaO,IAAI,CAACE,GAAlB;AALZ,KAAlB;AAOH;;AACD,SAAOP,YAAP;AACH;;AAED,OAAO,MAAMW,cAAc,GAAG,MAAM;AAChC,SAAO,MAAMC,QAAN,IAAkB;AACrB,UAAMC,GAAG,GAAG,MAAMpB,aAAa,CAACqB,GAAd,CAAkB,cAAlB,CAAlB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AACA,QAAIA,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACpB,YAAM;AAAEnB,QAAAA,UAAF;AAAcoB,QAAAA;AAAd,UAA2BL,GAAG,CAACM,IAArC;AACAP,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAAE1B,iBAAiB,CAAC2B,0BADnB;AAELC,QAAAA,OAAO,EAAE;AAAExB,UAAAA;AAAF;AAFJ,OAAD,CAAR;AAIAc,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAAExB,gBAAgB,CAAC2B,wBADlB;AAELD,QAAAA,OAAO,EAAE;AAAEJ,UAAAA;AAAF;AAFJ,OAAD,CAAR;AAIH;AACJ,GAdD;AAeH,CAhBM","sourcesContent":["import axiosInstance from \"../helpers/axios\"\r\nimport { categoryConstants, intialDataConstants, productConstants } from \"./constants\"\r\n\r\nfunction createCategories(categories, parentId = null) {\r\n    const categoryList = []\r\n    let category;\r\n    if (parentId == null) {\r\n        category = categories.filter(cat => cat.parentId == undefined)\r\n    } else {\r\n        category = categories.filter(cat => cat.parentId == parentId)\r\n    }\r\n    for (let cate of category) {\r\n        categoryList.push({\r\n            _id: cate._id,\r\n            name: cate.name,\r\n            slug: cate.slug,\r\n            parentId: cate.parentId,\r\n            children: createCategories(categories, cate._id)\r\n        })\r\n    }\r\n    return categoryList\r\n}\r\n\r\nexport const getInitialDate = () => {\r\n    return async dispatch => {\r\n        const res = await axiosInstance.get(\"/initialData\")\r\n        console.log(res)\r\n        if (res.status === 200) {\r\n            const { categories, products } = res.data\r\n            dispatch({\r\n                type: categoryConstants.GET_ALL_CATEGORIES_SUCCESS,\r\n                payload: { categories }\r\n            })\r\n            dispatch({\r\n                type: productConstants.GET_ALL_PRODUCTS_SUCCESS,\r\n                payload: { products }\r\n            })\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}